# Global Configuration - Mining Value Chain Optimization

# Project Metadata
project:
  name: "minewise_ml"
  version: "1.0.0"
  description: "Mining Value Chain Optimization - Capstone ML Project"

# Paths
paths:
  data_raw: "data/raw/"
  data_processed: "data/processed/"
  feature_store: "data/feature_store/"
  models: "models/"
  mlruns: "mlruns/"
  logs: "logs/"

# Data Configuration
data:
  # Main datasets
  equipment_operations: "fct_operasional_alat_relatif_2"
  equipment_master: "dim_alat_berat_relatif_2"
  road_conditions: "fct_kondisi_jalan"
  weather_daily: "dim_cuaca_harian (relatif)"
  weather_extended: "cuaca 10k"
  production_plan: "plan_produksi_harian"
  vessel_loading: "fct_pemuatan_kapal"
  vessel_master: "dim_kapal"
  cost_operations: "fct_biaya_operasional"
  commodity_price: "ref_harga_komoditas"

  # Data loading parameters
  date_format: "%Y-%m-%d"
  encoding: "utf-8"

# Feature Engineering
features:
  # Temporal features
  temporal:
    - hour
    - shift
    - day_of_week
    - is_weekend
    - is_holiday

  # Lag features (hours)
  lag_hours:
    - 3
    - 6
    - 12
    - 24

  # Rolling window (hours)
  rolling_windows:
    - 6
    - 12
    - 24

# Model Training Configuration
training:
  # Train-validation-test split
  test_size: 0.15
  val_size: 0.15
  random_state: 42

  # Time-series split (if using time-based split)
  time_split:
    train_days: 180
    val_days: 30
    test_days: 30

  # Cross-validation
  cv_folds: 5

  # Early stopping
  early_stopping_rounds: 50

# MLflow Configuration
mlflow:
  tracking_uri: "http://localhost:5000"
  experiment_name: "minewise_optimization"
  artifact_location: "./mlruns"

# Model Registry
model_registry:
  # Model naming convention
  model_name_format: "{model_type}_{version}_{timestamp}"

  # Model staging
  staging_thresholds:
    min_r2: 0.70
    min_f1: 0.80
    max_rmse: 5.0
    max_mape: 0.20

# API Configuration
api:
  host: "0.0.0.0"
  port: 8000
  reload: true
  log_level: "info"

  # API rate limiting
  rate_limit:
    requests_per_minute: 60
    burst_size: 10

# Logging
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/minewise_ml.log"

# Performance Monitoring
monitoring:
  # Model performance thresholds (alerts)
  alert_thresholds:
    road_speed_rmse: 5.0 # km/h
    cycle_time_mape: 0.20 # 20%
    equipment_failure_recall: 0.75
    port_operability_precision: 0.80

  # Data drift detection
  data_drift:
    enabled: true
    check_frequency_hours: 24

# Business Metrics
business:
  # Cost parameters (IDR)
  cost_per_breakdown: 50000000 # Rp 50 juta per breakdown
  cost_per_hour_delay: 5000000 # Rp 5 juta per hour delay
  fuel_cost_per_liter: 15000 # Rp 15k per liter

  # Production parameters
  target_daily_production_ton: 5000
  target_ritase_per_truck: 8
  target_loading_hours: 18 # hours per vessel

# Random Seeds (for reproducibility)
random_seed: 42
numpy_seed: 42
torch_seed: 42 # if using PyTorch

# Environment
environment: "development" # development | staging | production
